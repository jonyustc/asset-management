"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[586],{5586:(k,s,a)=>{a.r(s),a.d(s,{AccountModule:()=>U});var c=a(9808),u=a(121),r=a(2382),t=a(5e3),p=a(740);const g=["input"];function f(n,l){1&n&&t._UZ(0,"div",7)}function h(n,l){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",e.label," is Required")}}function b(n,l){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",e.label," is Invalid")}}function v(n,l){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,h,2,1,"span",9),t.YNc(2,b,2,1,"span",9),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.controlDir.control||null==e.controlDir.control.errors?null:e.controlDir.control.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.controlDir.control||null==e.controlDir.control.errors?null:e.controlDir.control.errors.pattern)}}function Z(n,l){1&n&&(t.TgZ(0,"span"),t._uU(1,"Email address is in use"),t.qZA())}function T(n,l){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,Z,2,0,"span",9),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.controlDir.control||null==e.controlDir.control.errors?null:e.controlDir.control.errors.emailExists)}}const _=function(n){return{"is-invalid":n}};let m=(()=>{class n{constructor(e){this.controlDir=e,this.type="text",console.log(this),this.controlDir.valueAccessor=this}ngOnInit(){}target(e){return e.target}onChange(e){}onTouched(){}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.a5))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-text-input"]],viewQuery:function(e,o){if(1&e&&t.Gf(g,7),2&e){let i;t.iGM(i=t.CRH())&&(o.input=i.first)}},inputs:{type:"type",label:"label"},decls:8,vars:10,consts:[[1,"form-floating","mb-4"],[1,"form-control",3,"ngClass","type","id","placeholder","keyup","blur"],["input",""],["for","floatingInput"],["class","fa fa-spinner fa-spin loader",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"fa","fa-spinner","fa-spin","loader"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback","d-block"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("keyup",function(w){return o.onChange(o.target(w).value)})("blur",function(){return o.onTouched()}),t.qZA(),t.TgZ(3,"label",3),t._uU(4),t.qZA(),t.YNc(5,f,1,0,"div",4),t.YNc(6,v,3,2,"div",5),t.YNc(7,T,2,1,"div",6),t.qZA()),2&e&&(t.xp6(1),t.s9C("id",o.label),t.s9C("placeholder",o.label),t.Q6J("ngClass",t.VKq(8,_,!!(null!=o.controlDir.control&&o.controlDir.control.touched&&null!=o.controlDir.control&&null!=o.controlDir.control.errors&&o.controlDir.control.errors.required||null!=o.controlDir.control&&null!=o.controlDir.control.errors&&o.controlDir.control.errors.pattern)))("type",o.type),t.xp6(3),t.Oqu(o.label),t.xp6(1),t.Q6J("ngIf",!(null!=o.controlDir.control&&o.controlDir.control.valid)&&"PENDING"===(null==o.controlDir.control?null:o.controlDir.control.status)),t.xp6(1),t.Q6J("ngIf",!(null!=o.controlDir.control&&o.controlDir.control.valid)&&(null==o.controlDir.control?null:o.controlDir.control.touched)),t.xp6(1),t.Q6J("ngIf",!(null!=o.controlDir.control&&o.controlDir.control.valid)&&(null==o.controlDir.control?null:o.controlDir.control.dirty)))},directives:[c.mk,c.O5],styles:[".loader[_ngcontent-%COMP%]{position:absolute;top:20px;right:10px;margin-top:0}"]}),n})();const y=function(){return["/account/register"]};let x=(()=>{class n{constructor(e,o,i){this.accountService=e,this.router=o,this.activatedRoute=i}ngOnInit(){this.createLoginForm(),this.returnUrl=this.activatedRoute.snapshot.queryParams.returnUrl||"/"}createLoginForm(){this.loginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.pattern("^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$")]),password:new r.NI("",[r.kI.required])})}onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>{this.router.navigateByUrl(this.returnUrl).then(()=>{this.refresh()})},error:()=>{console.log(this)}})}refresh(){window.location.reload()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.B),t.Y36(u.F0),t.Y36(u.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:31,vars:8,consts:[[3,"formGroup","ngSubmit"],[1,"row","d-flex","justify-content-center",2,"margin-top","10%"],[1,"col-4","card-login"],[1,"header"],[1,"px-5","py-4"],[1,"form-floating","mb-3"],["formControlName","email",3,"label","type"],["for","floatingInput"],[1,"form-floating"],["formControlName","password",3,"label","type"],["for","floatingPassword"],[1,"py-4","d-flex","justify-content-between"],[1,"form-check"],["type","checkbox","asp-for","Input.RememberMe",1,"form-check-input"],["for","RememberMe",1,"form-check-label"],[1,"forgot-pass"],["href","#"],[1,"create-acc",3,"routerLink"],["type","submit",1,"btn","btn-warning","btn-main",3,"disabled"],[1,"half-line"],[1,"social-btn","d-flex","justify-content-center","gap-3"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t._uU(5,"Sign In"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t._UZ(8,"app-text-input",6),t.TgZ(9,"label",7),t._uU(10,"Email address"),t.qZA()(),t.TgZ(11,"div",8),t._UZ(12,"app-text-input",9),t.TgZ(13,"label",10),t._uU(14,"Password"),t.qZA()(),t.TgZ(15,"div",11)(16,"div",12),t._UZ(17,"input",13),t.TgZ(18,"label",14),t._uU(19," Remember me "),t.qZA()(),t.TgZ(20,"div",15)(21,"a",16),t._uU(22,"Forgot password? "),t.qZA()()(),t.TgZ(23,"div",11)(24,"a",17),t._uU(25,"Create An Account"),t.qZA(),t.TgZ(26,"button",18),t._uU(27,"Sign in"),t.qZA()(),t.TgZ(28,"div",19),t._UZ(29,"p"),t.qZA(),t._UZ(30,"div",20),t.qZA()()()()),2&e&&(t.Q6J("formGroup",o.loginForm),t.xp6(8),t.Q6J("label","Email")("type","email"),t.xp6(4),t.Q6J("label","Password")("type","password"),t.xp6(12),t.Q6J("routerLink",t.DdM(7,y)),t.xp6(2),t.Q6J("disabled",!o.loginForm.valid))},directives:[r._Y,r.JL,r.sg,m,r.JJ,r.u,u.yS],styles:[""]}),n})();var C=a(4004);const A=[{path:"login",component:x},{path:"register",component:(()=>{class n{constructor(e,o,i){this.fb=e,this.accountService=o,this.router=i}ngOnInit(){this.createRegisterForm()}createRegisterForm(){this.registerForm=this.fb.group({displayName:[null,r.kI.required],email:[null,[r.kI.required,r.kI.pattern("^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$")],[this.checkEmailAlreadyTaken()]],password:[null,r.kI.required],role:["Member",r.kI.required]})}onSubmit(){this.accountService.register(this.registerForm.value).subscribe(()=>{console.log("Register Successfully"),this.router.navigateByUrl("/")},e=>{console.log(e),this.errors=e.error.errors})}checkEmailAlreadyTaken(){return e=>this.accountService.checkEmailExists(e.value).pipe((0,C.U)(o=>o?{emailExists:!0}:null))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(p.B),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],decls:40,vars:12,consts:[["autocomplete","off",1,"form-group",3,"formGroup","ngSubmit"],[1,"row","d-flex","justify-content-center",2,"margin-top","10%"],[1,"col-4","card-login"],[1,"header"],[1,"px-5","py-4"],["href","#",1,"text-below-header"],[1,"form-floating","my-3"],["formControlName","displayName",3,"label","type"],[1,"form-floating","mb-3"],["formControlName","email",3,"label","type"],["formControlName","password",3,"label","type"],[1,"py-2","d-flex"],[1,"form-check"],["type","checkbox",1,"form-check-input"],["for","flexCheckChecked",1,"form-check-label","terms-check"],["href","#"],[1,"d-flex","justify-content-between","captcha-check"],["type","checkbox","asp-for","Input.NotRobot",1,"form-check-input"],["src","../../../assets/images/recaptcha.png","alt","","width","30"],[1,"p-2","d-flex","justify-content-end","gap-2","border-with-top"],["type","reset",1,"btn","btn-outline-light"],[1,"btn","btn-warning","btn-main",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t._uU(5,"Create an AssetTiger Account"),t.qZA()(),t.TgZ(6,"div",4)(7,"a",5),t._uU(8,"Need to be added as a user to an existing account?"),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"app-text-input",7),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"app-text-input",7),t.qZA(),t.TgZ(13,"div",8),t._UZ(14,"app-text-input",9),t.qZA(),t.TgZ(15,"div",8),t._UZ(16,"app-text-input",10),t.qZA(),t.TgZ(17,"div",8),t._UZ(18,"app-text-input",10),t.qZA(),t.TgZ(19,"div",11)(20,"div",12),t._UZ(21,"input",13),t.TgZ(22,"label",14),t._uU(23," I agree to the "),t.TgZ(24,"a",15),t._uU(25,"Terms"),t.qZA(),t._uU(26," & "),t.TgZ(27,"a",15),t._uU(28,"Privacy Policy"),t.qZA()()()(),t.TgZ(29,"div",16)(30,"div",12),t._UZ(31,"input",17),t.TgZ(32,"label",14),t._uU(33," I'm not a robot "),t.qZA()(),t._UZ(34,"img",18),t.qZA()(),t.TgZ(35,"div",19)(36,"button",20),t._uU(37,"Cancel"),t.qZA(),t.TgZ(38,"button",21),t._uU(39,"Submit"),t.qZA()()()()()),2&e&&(t.Q6J("formGroup",o.registerForm),t.xp6(10),t.Q6J("label","Display Name")("type","text"),t.xp6(2),t.Q6J("label","Display Name")("type","text"),t.xp6(2),t.Q6J("label","Email")("type","email"),t.xp6(2),t.Q6J("label","Password")("type","password"),t.xp6(2),t.Q6J("label","Password")("type","password"),t.xp6(20),t.Q6J("disabled",!o.registerForm.valid))},directives:[r._Y,r.JL,r.sg,m,r.JJ,r.u],styles:[""]}),n})()}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),n})();var d=a(4466);let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,I,d.m],d.m]}),n})()}}]);